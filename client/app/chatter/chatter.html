<style>

  .btn-mini {
    padding: 1px 1px;
    font-size: 8px;
    line-height: 8px;
    margin-bottom: 2px;
  }

  /** {*/
  /*box-sizing: content-box;*/
  /*}*/

  /*********************************************************/

  /* To add dynamic Scroll to Bootstrap Modal Window */

  /*.modal-dialog{*/
  /*overflow-y: initial !important*/
  /*}*/

  /*.modal-body{*/
  /*max-height: 500px;*/
  /*overflow-y: auto;*/
  /*}*/

  /*.modal-dialog{*/
  /*height: 600px;*/
  /*}*/
  /*.modal-content{*/

  /*height: 600px;*/

  /*}*/

  /*************************************************************/
  /*************************Tags***************************/
  /*************************************************************/

  .bootstrap .tags {
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  }

  .bootstrap .tags.focused {
    border-color: #66afe9;
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6);
  }

  .bootstrap .tags .tag-item {
    background: #428bca;
    border: 1px solid #357ebd;
    border-radius: 4px;
    color: #fff;
    font-size: 10px;
  }

  .bootstrap .tags .tag-item.selected {
    background: #d9534f;
    border: 1px solid #d43f3a;
    border-radius: 4px;
    color: #fff;
  }

  .bootstrap .tags .tag-item button {
    background: transparent;
    color: #000;
    opacity: .4;
  }

  .bootstrap .autocomplete {
    border-radius: 4px;
    position: relative;
  }

  .bootstrap .autocomplete .suggestion-item {

    font-size: 10px;

  }

  .bootstrap .autocomplete .suggestion-item.selected {
    color: #262626;
    background-color: #e9e9e9;
    font-size: 10px;
  }

  .bootstrap .autocomplete .suggestion-item em {
    font-weight: normal;
    background-color: #ffff00;
    font-size: 10px;
  }

  .bootstrap .autocomplete .suggestion-item.selected em {
    color: #262626;
    background-color: #ffff00;
  }

  /*Comment tree */
  /**************************************************************************/

  .modal-body {

    box-sizing: border-box !important;

  }

  .btn {
    margin-right: 8px;
  }

  .new-topic .form-control {
    box-sizing: border-box;
    width: 100%;
  }

  .panel-group {

    margin-bottom: 3px;

  }

  .topic.well {

    margin-top: 40px;
    background-color: #EDEDED !important;
    color: #000000 !important;

  }

  .comment.well {

    margin-top: 0px;
    margin-left: 60px;
    background-color: #EDEDED !important;
    padding: 3px;

  }

  .topic {

    font-style: normal;
    font-size: 13px;
    background-color: white;

  }

  .topic .btn.btn-default {
    color: rgba(0, 0, 0, 0.42);
    background-color: #ffffff;
    background-image: linear-gradient(to bottom, #ffffff, #ffffff);
    border-color: #ffffff #ffffff #ffffff;
  }

  .topic .btn.btn-default:hover {
    color: #000000;
    background-color: #ffffff;
    background-image: linear-gradient(to bottom, #ffffff, #ffffff);
    border-color: #ffffff #ffffff #ffffff;
  }

  .comment {
    font-style: normal;
    font-size: 13px;
    background-color: #ededed;
    margin-left: 60px;
    margin-right: 30px;
    /*Todo */
    margin-bottom: -7px;
  }

  .topic .comment .btn.btn-default {
    color: rgba(0, 0, 0, 0.42);
    background-color: #ededed;
    background-image: linear-gradient(to bottom, #ededed, #ededed);
    border-color: #ededed #ededed #ededed;
  }

  .topic .comment .btn.btn-default:hover {
    color: #000000;
    background-color: #ededed;
    background-image: linear-gradient(to bottom, #ededed, #ededed);
    border-color: #ededed #ededed #ededed;
  }

  .topic p {

    text-decoration: none !important;

  }

  .topic-profile-head {
    margin-bottom: 5px;

  }

  .form-group {

    margin-bottom: 0px;
    margin-top: 3px;
    font-size: 13px;
  }

  .media-body .well {

    background-color: #dcdfe2;
    padding: 3px;
    margin-top: 6px;

  }

  ol {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .panel-title{
    font-size: 13px;

  }

  .panel-heading {

    padding: 0px;

  }


</style>


<div class="container">

  <!--<div>-->
    <!--<acme-navbar creationDate="main.creationDate"/>-->
  <!--</div>-->

  <div class="row-fluid">
    <div class=span12" style="border: none">
      <div ui-tree="options" data-drag-enabled="false">

        <!--****************New Topic******************-->

        <div class="media">
          <a class="media-left media-top" style="margin-right: 0px" href="#">
            <img class="pull-left" height="32" width="32"
                 src="/assets/images/noavatar.png">
          </a>

          <div class="media-body">
            <a href="#"><span>Girish Lakshmanan</span></a>

            <div class="well">
              <div class="form-group">
                <label class="sr-only" for="topicName">Topic name</label>
                <input ng-hide="editingNewTopic" morph-input="editingNewTopic" class="form-control"
                       style="min-width: 100%;max-width: 100%" id="topicName"
                       placeholder="Start a new conversation....">
                <textarea ng-show="editingNewTopic" class="form-control" style="min-width: 100%;max-width: 100%"
                          rows="3"
                          id="topicNameTextArea"
                          placeholder="Start a new conversation...."></textarea>
              </div>

              <div ng-show="editingNewTopic" class="row">
                <div class="form-group col-xs-6">
                  <!--<label for="tags" class="sr-only"></label>-->
                  <!--<input type="text" class="form-control" aria-label="...">-->

                  <tags-input class="bootstrap" on-tag-added="addedTag($tag)"
                              ng-model="newTopicUsers"
                              placeholder="Invite more users to this conversation"
                              replace-spaces-with-dashes="false">
                    <auto-complete source="loadUsers($query)"
                                   min-length="0"
                                   debounce-delay="0"
                                   max-results="10"></auto-complete>
                  </tags-input>

                </div>

                <div class="form-group col-xs-6">
                  <button type="button" ng-click="addTopic()" class="btn btn-default pull-right"><span
                    class="glyphicon glyphicon-plus"></span> Add
                    Topic
                  </button>
                </div>
              </div>


            </div>

          </div>
          <!--Media Body-->

        </div>


        <!--****************Existing Topics******************-->


        <ol ui-tree-nodes ng-model="topics" data-type="topic" style="list-style-type:none">
          <li ng-repeat="topic in topics | orderBy:'-createdDate'" style="padding: 0;list-style-type:none" ui-tree-node>


            <accordion ng-init="topic.editing=false" close-others="true">
              <accordion-group panel-class="panel-body topic" is-open="topic.accordionStatus">
                <accordion-heading>

                  <!--*************************Topic in Readonly Mode***********************************-->

                  <div ng-show="!topic.editing">

                    <div class="media topic">
                      <a class="media-left media-top" href="#">
                        <img class="pull-left" height="32" width="32"
                             src="/assets/images/noavatar.png">
                      </a>

                      <div class="media-body">
                        <div ng-init="topic.accordionStatus=true" class="topic-profile-head"><a href="#"><span>Girish Lakshmanan&nbsp;</span><span
                          style="color: grey" am-time-ago="topic.createdDate"></span></a> <span>-- </span>   <span style="margin-right:3px" ng-repeat="taggedUser in topic.taggedUsers" class="label label-default">{{taggedUser}}</span></div>
                        <a href="" class="btn btn-default btn-xs pull-right" ng-click="removeTopic(topic)"><i
                          class="glyphicon glyphicon-remove"></i></a>
                        <a ng-show="!topic.accordionStatus" href="" class="btn btn-default btn-xs pull-right"
                           ng-click="toggleAccordionOpen(topic)"><i
                          class="fa fa-plus-square-o"></i></a>
                        <a ng-show="topic.accordionStatus" href="" class="btn btn-default btn-xs pull-right"
                           ng-click="toggleAccordionOpen(topic)"><i
                          class="fa fa-minus-square-o"></i></a>

                        <a href="" class="btn btn-default btn-xs pull-right"
                           ng-click="editTopic(topic)"><i
                          class="glyphicon glyphicon-pencil"></i></a>

                        <p>{{topic.name}}</p>
                      </div>
                    </div>
                  </div>


                  <!--*************************Topic in Edit Mode***********************************-->

                  <!--<div ng-show="topic.editing">-->
                    <!--<form class="form-inline" role="form">-->
                      <!--<div class="form-topic">-->
                        <!--<label class="sr-only" for="topicName">Topic name</label>-->
                        <!--<input type="text" class="form-control" placeholder="Topic name" ng-model="topic.name">-->
                      <!--</div>-->
                      <!--<button type="submit" class="btn btn-default" ng-click="saveTopic(topic)">Save</button>-->
                      <!--<button type="submit" class="btn btn-default" ng-click="cancelEditingTopic(topic)">Cancel-->
                      <!--</button>-->
                    <!--</form>-->
                  <!--</div>-->



                  <div ng-show="topic.editing" class="well">
                    <div ng-init="topic.accordionStatus=true" class="topic-profile-head"><a href="#"><span
                      style="color: grey"> Topic was added by </span><span>Girish Lakshmanan&nbsp;</span>
                      <span
                      style="color: grey" am-time-ago="topic.createdDate"></span></a></div>
                    <div class="form-group">
                         <textarea ng-init="topic.newName=topic.name" ng-model="topic.newName" class="form-control" style="min-width: 100%;max-width: 100%"
                          rows="3"
                          id="topicNameTextAreaEdit"></textarea>

                    </div>
                    <div class="form-group">
                      <button type="submit" class="btn btn-primary btn-sm" ng-click="saveTopic(topic)">Save</button>
                      <button type="submit" class="btn btn-primary btn-sm" ng-click="cancelEditingTopic(topic)">Cancel
                      </button>
                      </div>

                  </div>


                </accordion-heading>

                <!--*************************Comments***********************************-->

                <ol ui-tree-nodes ng-model="topic.comments" data-type="comment">
                  <li ng-repeat="comment in topic.comments" ui-tree-node>

                    <!--Comment Controls-->
                    <div class="comment">
                      <div>
                        <a href="" class="btn btn-default btn-xs pull-right" ng-click="removeComment(topic, comment)"><i
                          class="glyphicon glyphicon-remove"></i></a>
                      </div>

                      <!--Comment Content-->
                      <div class="topic-profile-head"><a href="#"><span>Girish Lakshmanan&nbsp;</span><span
                        style="color: grey" am-time-ago="comment.createdDate"></span></a></div>

                      <p>{{comment.name}}</p>
                    </div>

                  </li>
                </ol>

                <!--************************************New Comment*******************************-->


                <div ng-init="topic.newCommentEditable=false" class="well comment">
                  <div class="form-group">
                    <div class="topic-profile-head"><a href="#"><span>Girish Lakshmanan&nbsp;</span></a></div>
                    <label class="sr-only" for="topicName">Topic name</label>
                    <input ng-hide="topic.newCommentEditable" ng-model="topic.newCommentName"
                           morph-input="topic.newCommentEditable" class="form-control"
                           style="min-width: 100%;max-width: 100%"
                           placeholder="continue the conversation....">

                    <textarea ng-show="topic.newCommentEditable" ng-model="topic.newCommentName"
                              class="form-control" style="min-width: 100%;max-width: 100%" rows="3"
                              placeholder="continue the conversation...."></textarea>
                  </div>

                  <div ng-show="topic.newCommentEditable" class="row">
                    <div class="form-group col-xs-6">
                      <!--<label for="tags" class="sr-only"></label>-->
                      <!--<input type="text" class="form-control" aria-label="...">-->

                      <tags-input class="bootstrap" on-tag-added="addedTag($tag)"
                                  ng-model="topic.newCommentUsers"
                                  placeholder="Invite more users to this conversation"
                                  replace-spaces-with-dashes="false">
                        <auto-complete source="loadUsers($query)"
                                       min-length="0"
                                       debounce-delay="0"
                                       max-results="10"></auto-complete>
                      </tags-input>
                    </div>

                    <div class="form-group col-xs-6">
                      <button type="submit" ng-click="addComment(topic)" class="btn btn-default pull-right">
                        <span
                          class="glyphicon glyphicon-plus"></span> Add Comment
                      </button>
                    </div>
                  </div>


                </div>


              </accordion-group>
            </accordion>


          </li>
        </ol>

      </div>


      <!--****************Dev Debugging Info******************-->


      <div>
        <!--<h3>Data binding</h3>-->

        <!--<div class="info">-->
        <!--{{ info }}-->
        <!--</div>-->
        <!--<pre class="code">{{ topics | json }}</pre>-->
      </div>

    </div>
  </div>
</div>





